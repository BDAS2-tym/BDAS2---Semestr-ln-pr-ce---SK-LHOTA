<Window x:Class="BDAS2_Sem_Prace_Cincibus_Tluchor.Windows.SystemovyKatalogOkno"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Systémový katalog"
        Height="600" Width="1400"
        Icon="/Images/Ikony/Ikona_Hraci.ico" WindowState="Maximized"
        Closing="Window_Closing">

    <Grid>

        <Grid.Background>
            <ImageBrush ImageSource="/Images/Img/pozadi_2_dialog_okna.png" Stretch="UniformToFill"/>
        </Grid.Background>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="250" />
        </Grid.ColumnDefinitions>

        <!-- Levá část – seznam objektů -->
        <Border Grid.Column="0" Margin="15"
                BorderBrush="#125C64" BorderThickness="2" CornerRadius="6">

            <DataGrid x:Name="dgSystemovyKatalog"
                      ItemsSource="{Binding FiltrovanaData}"
                      AutoGenerateColumns="False"
                      MouseDoubleClick="dgSystemovyKatalog_MouseDoubleClick"
                      IsReadOnly="True" CanUserAddRows="False"
                      FontFamily="Century Gothic" FontSize="11"
                      AlternatingRowBackground="#FFF3F3F3"
                      RowBackground="White" Background="White"
                      GridLinesVisibility="None"
                      HeadersVisibility="Column"
                      RowHeight="30" ColumnHeaderHeight="28"
                      SelectionMode="Single" SelectionUnit="FullRow">

                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#AABBCC"/>
                        <Setter Property="Foreground" Value="Black"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="FontFamily" Value="Century Gothic"/>
                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                        <Setter Property="VerticalContentAlignment" Value="Center"/>
                        <Setter Property="BorderBrush" Value="#125C64"/>
                        <Setter Property="BorderThickness" Value="0,0,2,2"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>

                <DataGrid.Columns>
                    <DataGridTextColumn Header="Název objektu" Binding="{Binding NazevObjektu}" Width="3*"/>
                    <DataGridTextColumn Header="Typ" Binding="{Binding TypObjektu}" Width="2*"/>
                    <DataGridTextColumn Header="Vytvořen" Binding="{Binding DatumVytvoreni}" Width="2*"/>
                    <DataGridTextColumn Header="Stav" Binding="{Binding Stav}" Width="1*"/>
                </DataGrid.Columns>

                <!-- Výběrová barva -->
                <DataGrid.Resources>
                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="#fad870"/>
                    <SolidColorBrush x:Key="{x:Static SystemColors.ControlBrushKey}" Color="#fad870"/>
                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Black"/>
                </DataGrid.Resources>

            </DataGrid>
        </Border>

        <!-- Pravá část – filtry -->
        <Border Grid.Column="1" Background="#77B3FB">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Systémový katalog"
                           Foreground="Black"
                           FontSize="25"
                           FontWeight="Bold"
                           HorizontalAlignment="Center"
                           Margin="0,15"
                           FontFamily="Century Gothic"/>

                <!-- Filtrační panel -->
                <StackPanel Grid.Row="1" Margin="20">

                    <!-- Styl checkboxů -->
                    <StackPanel.Resources>
                        <Style TargetType="CheckBox">
                            <Setter Property="FontFamily" Value="Century Gothic"/>
                            <Setter Property="FontSize" Value="14"/>
                            <Setter Property="Foreground" Value="Black"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Setter Property="Margin" Value="0 4 0 4"/>
                            <Setter Property="Padding" Value="2"/>

                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="CheckBox">
                                        <StackPanel Orientation="Horizontal">
                                            <Border x:Name="box"
                                                    Width="16" Height="16"
                                                    CornerRadius="3"
                                                    BorderBrush="#1c4d8c"
                                                    BorderThickness="2"
                                                    Background="White"
                                                    Margin="0 8 8 0">
                                                <Path x:Name="check"
                                                      Data="M3,8 L6,11 L12,3"
                                                      Stroke="White"
                                                      StrokeThickness="2"
                                                      Visibility="Collapsed"/>
                                            </Border>
                                            <ContentPresenter VerticalAlignment="Center"/>
                                        </StackPanel>

                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="box" Property="BorderBrush" Value="#2e7dd3"/>
                                                <Setter TargetName="box" Property="Background" Value="#e8f2ff"/>
                                            </Trigger>

                                            <Trigger Property="IsChecked" Value="True">
                                                <Setter TargetName="box" Property="Background" Value="#1c4d8c"/>
                                                <Setter TargetName="check" Property="Visibility" Value="Visible"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </StackPanel.Resources>

                    <TextBlock Text="Filtrovat objekty:"
                               FontSize="16"
                               FontWeight="Bold"
                               Foreground="Black"
                               Margin="0 0 0 6"/>

                    <!-- Checkboxy -->
                    <CheckBox x:Name="chkTables"       Content="Tabulky"                    Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="1"/>
                    <CheckBox x:Name="chkViews"        Content="Pohledy (VIEW)"             Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="2"/>
                    <CheckBox x:Name="chkFunctions"    Content="Funkce (FUNCTION)"          Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="3"/>
                    <CheckBox x:Name="chkProcedures"   Content="Procedury (PROCEDURE)"      Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="4"/>
                    <CheckBox x:Name="chkPackages"     Content="Package / Package Body"     Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="5"/>
                    <CheckBox x:Name="chkTriggers"     Content="Triggery (TRIGGER)"         Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="6"/>
                    <CheckBox x:Name="chkSequences"    Content="Sekvence (SEQUENCE)"        Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="7"/>
                    <CheckBox x:Name="chkIndexes"      Content="Indexy (INDEX)"             Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="8"/>
                    <CheckBox x:Name="chkConstraints"  Content="Omezení (Constraints)"
                               Checked="FilterChanged" Unchecked="FilterChanged" TabIndex="9"/>

                </StackPanel>

                <!-- Tlačítko zpět -->
                <Button x:Name="btnZpet"
                        Grid.Row="2"
                        Margin="40,20"
                        Height="45"
                        Click="BtnZpet_Click"
                        Style="{StaticResource HoverFadeButtonStyle2}"
                        FontFamily="Century Gothic"
                        FontSize="20"
                        Cursor="Hand" TabIndex="10">

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Image Source="/Images/Img/left.png" Width="40" Height="40" Margin="0,0,10,0"/>
                        <TextBlock Text="Zpět" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>

            </Grid>
        </Border>

    </Grid>
</Window>
